!function(){"use strict";var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=function(n,e){var t,a=(t=n).plugins.visualchars&&t.plugins.visualchars.isEnabled()?'<span class="mce-nbsp">&nbsp;</span>':"&nbsp;";n.insertContent(function(n,e){for(var t="",a=0;a<e;a++)t+=n;return t}(a,e)),n.dom.setAttrib(n.dom.select("span.mce-nbsp"),"data-mce-bogus","1")},s=tinymce.util.Tools.resolve("tinymce.util.VK");n.add("nonbreaking",function(n){var e,t,a,i,o;(o=n).addCommand("mceNonBreaking",function(){r(o,1)}),(i=n).addButton("nonbreaking",{title:"Nonbreaking space",cmd:"mceNonBreaking"}),i.addMenuItem("nonbreaking",{icon:"nonbreaking",text:"Nonbreaking space",cmd:"mceNonBreaking",context:"insert"}),0<(a="boolean"==typeof(t=(e=n).getParam("nonbreaking_force_tab",0))?!0===t?3:0:t)&&e.on("keydown",function(n){if(n.keyCode===s.TAB&&!n.isDefaultPrevented()){if(n.shiftKey)return;n.preventDefault(),n.stopImmediatePropagation(),r(e,a)}})})}();