!function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),a=tinymce.util.Tools.resolve("tinymce.util.Tools"),u=function(t,e,n){var o="UL"===e?"InsertUnorderedList":"InsertOrderedList";t.execCommand(o,!1,!1===n?null:{"list-style-type":n})},c=function(t){return t&&/^(TH|TD)$/.test(t.nodeName)},d=function(l,s){return function(t){var i=t.control;l.on("NodeChange",function(t){var o,e=function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1}(t.parents,c),n=-1!==e?t.parents.slice(0,e):t.parents,r=a.grep(n,(o=l,function(t){return t&&/^(OL|UL|DL)$/.test(t.nodeName)&&(n=t,(e=o).$.contains(e.getBody(),n));var e,n}));i.active(0<r.length&&r[0].nodeName===s)})}},p=function(e,t,n,o,r,i){var l,s;e.addButton(t,{active:!1,type:"splitbutton",tooltip:n,menu:(s=i,a.map(s,function(t){return{text:t.replace(/\-/g," ").replace(/\b\w/g,function(t){return t.toUpperCase()}),data:"default"===t?"":t}})),onPostRender:d(e,r),onshow:(l=e,function(t){var e,n,o=(n=(e=l).dom.getParent(e.selection.getNode(),"ol,ul"),e.dom.getStyle(n,"listStyleType")||"");t.control.items().each(function(t){t.active(t.settings.data===o)})}),onselect:function(t){u(e,r,t.control.settings.data)},onclick:function(){e.execCommand(o)}})},s=function(t,e,n,o,r,i){var l,s,a,u,c;0<i.length?p(t,e,n,o,r,i):(s=e,a=n,u=o,c=r,(l=t).addButton(s,{active:!1,type:"button",tooltip:a,onPostRender:d(l,c),onclick:function(){l.execCommand(u)}}))};t.add("advlist",function(t){var e,n,o,r,i,l;n=(e=t).settings.plugins?e.settings.plugins:"",-1!==a.inArray(n.split(/[ ,]/),"lists")&&(s(r=t,"numlist","Numbered list","InsertOrderedList","OL",(l=r.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman"))?l.split(/[ ,]/):[]),s(r,"bullist","Bullet list","InsertUnorderedList","UL",(i=r.getParam("advlist_bullet_styles","default,circle,disc,square"))?i.split(/[ ,]/):[]),(o=t).addCommand("ApplyUnorderedListStyle",function(t,e){u(o,"UL",e["list-style-type"])}),o.addCommand("ApplyOrderedListStyle",function(t,e){u(o,"OL",e["list-style-type"])}))})}();