!function(){"use strict";var o=function(e){var t=e,n=function(){return t};return{get:n,set:function(e){t=e},clone:function(){return o(n())}}},e=tinymce.util.Tools.resolve("tinymce.PluginManager"),y=tinymce.util.Tools.resolve("tinymce.Env"),r=tinymce.util.Tools.resolve("tinymce.util.Delay"),h=function(e){return parseInt(e.getParam("autoresize_min_height",e.getElement().offsetHeight),10)},a=function(e,t,n,i,o){r.setEditorTimeout(e,function(){S(e,t),n--?a(e,t,n,i,o):o&&o()},i)},v=function(e,t){var n=e.getBody();n&&(n.style.overflowY=t?"":"hidden",t||(n.scrollTop=0))},S=function(e,t){var n,i,o,r,a,s,l,u,g,c,d,f=e.dom;if(i=e.getDoc())if((m=e).plugins.fullscreen&&m.plugins.fullscreen.isFullscreen())v(e,!0);else{var m;o=i.body,r=h(e),s=f.getStyle(o,"margin-top",!0),l=f.getStyle(o,"margin-bottom",!0),u=f.getStyle(o,"padding-top",!0),g=f.getStyle(o,"padding-bottom",!0),c=f.getStyle(o,"border-top-width",!0),d=f.getStyle(o,"border-bottom-width",!0),a=o.offsetHeight+parseInt(s,10)+parseInt(l,10)+parseInt(u,10)+parseInt(g,10)+parseInt(c,10)+parseInt(d,10),(isNaN(a)||a<=0)&&(a=y.ie?o.scrollHeight:y.webkit&&0===o.clientHeight?0:o.offsetHeight),a>h(e)&&(r=a);var p=parseInt(e.getParam("autoresize_max_height",0),10);p&&p<a?(r=p,v(e,!0)):v(e,!1),r!==t.get()&&(n=r-t.get(),f.setStyle(e.iframeElement,"height",r+"px"),t.set(r),y.webkit&&n<0&&S(e,t))}},s={setup:function(i,t){i.on("init",function(){var e,t,n=i.dom;e=i.getParam("autoresize_overflow_padding",1),t=i.getParam("autoresize_bottom_margin",50),!1!==e&&n.setStyles(i.getBody(),{paddingLeft:e,paddingRight:e}),!1!==t&&n.setStyles(i.getBody(),{paddingBottom:t})}),i.on("nodechange setcontent keyup FullscreenStateChanged",function(e){S(i,t)}),i.getParam("autoresize_on_init",!0)&&i.on("init",function(){a(i,t,20,100,function(){a(i,t,5,1e3)})})},resize:S};e.add("autoresize",function(e){if(!e.inline){var t=o(0);i=t,(n=e).addCommand("mceAutoResize",function(){s.resize(n,i)}),s.setup(e,t)}var n,i})}();