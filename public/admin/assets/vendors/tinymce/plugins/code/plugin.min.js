!function(){"use strict";var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),t=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),n=function(n){var e=n.getParam("code_dialog_width",600),o=n.getParam("code_dialog_height",Math.min(t.DOM.getViewPort().h-200,500));n.windowManager.open({title:"Source code",body:{type:"textbox",name:"code",multiline:!0,minWidth:e,minHeight:o,spellcheck:!1,style:"direction: ltr; text-align: left"},onSubmit:function(e){var o,t;o=n,t=e.data.code,o.focus(),o.undoManager.transact(function(){o.setContent(t)}),o.selection.setCursorLocation(),o.nodeChanged()}}).find("#code").value(n.getContent({source_view:!0}))};e.add("code",function(e){return(t=e).addCommand("mceCodeEditor",function(){n(t)}),(o=e).addButton("code",{icon:"code",tooltip:"Source code",onclick:function(){n(o)}}),o.addMenuItem("code",{icon:"code",text:"Source code",onclick:function(){n(o)}}),{};var o,t})}();